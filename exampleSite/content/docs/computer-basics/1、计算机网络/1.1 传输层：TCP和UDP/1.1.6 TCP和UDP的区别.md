---
weight: 6
---

# TCP和UDP的区别

## 1 TCP与UDP的区别有哪些

1. **TCP是面向连接的，UDP是无连接的**，即UDP发送数据之前不需要建立连接。
2. **TCP是可靠的，UDP是不可靠的**，这是因为UDP接收方收到报文后，不需要给出任何确认。
3. **TCP只支持点对点通信，UDP支持一对一、一对多、多对一、多对多**；
4. **TCP是面向字节流的，UDP是面向报文的**：

   > 面向字节流是指**发送数据时以字节为单位**，**一个数据包可以拆分成若干组进行发送**，而**UDP一个报文只能一次发完**。
   >
5. **TCP有拥塞控制机制，UDP没有**，**网络出现的拥塞不会使源主机的发送速率降低**，这对某些**实时应用**是很重要的，比如媒体通信、游戏。
6. **TCP首部开销**（20字节）**比UDP首部开销**（8字节）**要大**。
7. **UDP的主机不需要维持复杂的连接状态表**。

## 2 什么时候选择TCP，什么时候选择UDP

1. 对某些**实时性要求比较高**的情况，选择**UDP**，比如游戏、媒体通信、实时视频流（直播），即使出现传输错误也可以容忍。
2. 其他大部分情况下，**HTTP都是用TCP**，因为要求传输的内容可靠，不出现丢失。

## 3 HTTP可以使用UDP吗

1. **HTTP3.0**之前使用TCP协议，而HTTP3.0使用**基于UDP协议的QUIC协议组成**。
2. 此变化主要是为了解决HTTP2.0中存在的**对头阻塞**问题，由于HTTP2.0在单个TCP连接上使用了**多路复用**，受到TCP**拥塞控制**的影响，少量的丢包就可能导致整个TCP连接上的所有流被阻塞。

## 4 面向连接和无连接的区别

* **面向连接的网络服务（虚电路服务）：**
  1. 首先**建立连接**，所有的**数据包经过相同的路径**，**服务质量有较好地保证**。
* **无连接的网络服务（数据报服务）：**
  1. 每个数据包含目的地址，**数据路由相互独立**，**路径可能变化**。
  2. 网络**尽最大努力交付数据**，但**不保证不丢失**、**不保证先后顺序**、**不保证在时限内交付**。
  3. **网络发生拥塞时，可能会将一些分组丢弃**。

## 参考文献

1. [TCP与UDP的区别](https://github.com/wolverinn/Waking-Up/blob/master/Computer%20Network.md#TCP%E4%B8%8EUDP%E7%9A%84%E5%8C%BA%E5%88%AB)。
